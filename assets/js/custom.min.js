/*!
 *	Template Functions
*/
!function(e) {
    "use strict";
    e(window).load(function() {
        e(".page-loader").animate({
            width: "toggle"
        })
    }),
    e(document).ready(function() {
        e(".style-toggle").on("click", function(t) {
            e("body").toggleClass("dark"),
            t.preventDefault()
        });
        var t;
        t = !!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
        e("[data-background]").each(function() {
            e(this).css("background-image", "url(" + e(this).attr("data-background") + ")")
        }),
        
        e("body").fitVids();
        var a = /\[[^(\]\[)]*\]/g
          , i = e("#map")
          , s = Math.max(e(window).width(), window.innerWidth) > 736;
        if (i.length > 0) {
            var n, l = i[0].getAttribute("data-addresses").match(a), f = i[0].getAttribute("data-info").match(a), c = i.data("icon"), d = i.data("zoom"), p = [];
            l.forEach(function(e, t) {
                var o = "{";
                if (o += '"latLng":' + e,
                0 == t && (n = JSON.parse(e)),
                null != f && f[t]) {
                    var r = f[t].replace(/\[|\]/g, "");
                    o += ', "data":"' + r + '"'
                }
                o += "}",
                p.push(JSON.parse(o))
            });
            
            m.center = n,
            m.zoom = d,
            m.draggable = s;
            var g = {};
            g.icon = c,
            i.gmap3({
                map: {
                    options: m
                },
                marker: {
                    values: p,
                    options: g,
                    events: {
                        click: function(t, o, r) {
                            if (r.data) {
                                var a = e(this).gmap3("get")
                                  , i = e(this).gmap3({
                                    get: {
                                        name: "infowindow"
                                    }
                                });
                                i ? (i.open(a, t),
                                i.setContent(r.data)) : e(this).gmap3({
                                    infowindow: {
                                        anchor: t,
                                        options: {
                                            content: r.data
                                        }
                                    }
                                })
                            }
                        }
                    }
                }
            })
        }
        
        var y, h = document.body;
        window.addEventListener("scroll", function() {
            clearTimeout(y),
            h.classList.contains("disable-hover") || h.classList.add("disable-hover"),
            y = setTimeout(function() {
                h.classList.remove("disable-hover")
            }, 100)
        }, !1)
    })
}(jQuery);
